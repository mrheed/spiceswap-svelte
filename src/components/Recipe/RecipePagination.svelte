<script>
  export let number;
  export let totalPages;
  export let onPageChange;

  function handlePageChange(page) {
    if (page < 1 || page > totalPages) {
      return;
    }
    if (onPageChange) {
      onPageChange(page);
    }
  }
</script>

<nav aria-label="Page navigation">
  <ul class="inline-flex -space-x-px text-sm">
    <li>
      <button 
        on:click={() => handlePageChange(number - 1)} 
        class="flex items-center justify-center px-3 h-8 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        disabled={number === 1}
      >
        Previous
      </button>
    </li>
    {#each Array(totalPages).fill() as _, i}
      <li>
        <button 
          on:click={() => handlePageChange(i + 1)} 
          class="flex items-center justify-center px-3 h-8 leading-tight {number === i + 1 ? 'text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white' : 'text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white'}"
        >
          {i + 1}
        </button>
      </li>
    {/each}
    <li>
      <button 
        on:click={() => handlePageChange(number + 1)} 
        class="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        disabled={number === totalPages}
      >
        Next
      </button>
    </li>
  </ul>
</nav>
